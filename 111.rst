.. _tutorial_quickstart_report_timing:

Quick Start on Power Analysis
-----------------------------

Create a new project
~~~~~~~~~~~~~~~~~~~~

.. note:: To keep a clean project structure, we strongly recommend users to create a new directory for a new project.

A project directory in the purpose of power analysis consists of the following subdirectories:

.. code-block::

  alkaidS_power_timebased_report
  ├── config
  │   └── ptpx_task.yaml
  ├── Makefile
  ├── netlist -> ../alkaid_v0p5_power_leakage/netlist
  ├── report.tar.gz
  ├── sdc -> ../alkaidS_power_timebased/sdc
  └── waveform -> ../alkaidS_power_timebased/waveform

  
where 

- the ``config`` directory contains the task configuration file. See details in the :ref:`file_format_task_file`
- the ``Makefile`` is the top-level makefile to run PTPX tasks. Refer to examples under ``tests/tasks``
- the ``sdc`` directory contains the bitstream file for the HDL design to be analyzed
- the ``activity`` directory contains the waveform file for the HDL simulation results to be analyzed
- the ``_snps_ptpx_<task_name>`` directory is automatically generated by PTPX runs, to host intermediate/temporary files. Please avoid to put important data inside.

.. note:: We strongly recommend to use zipped copy for bitstream files and activity files

Once the project is initialized, fill the task configuration file accordingly.

.. note:: A shortcut to create a new project is to copy an example project, e.g., ``tests/tasks/alkaid_v0p7_power``

Create Task Configuration
~~~~~~~~~~~~~~~~~~~~~~~~~

Fill the required data in the ``config/ptpx_task.yaml``. Refer to :ref:`file_format_task_file` for detailed explanation.

.. note:: Only the power-related information is required

Take the example of the following task configuration file, 

- For general settings such as netlists, please double check with your manager.
- For report power tasks, please select your waveform file and bitstream file properly.

.. literalinclude:: example_report_power_task.yaml
  :language: yaml

Run a PTPX task
~~~~~~~~~~~~~~~

We strongly recommend users to use Makefile when running a PTPX task, to avoid complicated setup processes.
Please refer to the ``Makefile`` examples, e.g., ``tests/tasks/alkaid_v0p7_power``.

.. literalinclude:: example_report_power_makefile

Once the setup is done, call your make target to run a PTPX task, for example:

.. code-block::

  make report_fpga_power
